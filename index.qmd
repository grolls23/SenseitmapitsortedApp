# Sense It, Map It, Sorted - Flooding the Sindh region of Pakistan

## Project Summary

*Fill in the sections below to provide a brief summary of your project. Each section should have no more than 100 words. Do not edit any of the headings.*

### Problem Statement

*What is the problem you're trying to address using this application?*

Pakistan has one of the highest disaster risk levels globally. Flooding is the main hazard contributing to disaster risk in Pakistan, which has high exposure to riverine, flash and coastal flooding as well as tropical cyclones and high social vulnerability driven by multi-dimensional poverty. Flood risk and damage assessments exist at the national level, however, local level data on flood risk is missing. Local governments need such data for their jurisdictions in order to access adaptation funding and direct investment to the areas with highest risk.

### End User

*Who are you building this application for? How does it address a need this community has?*

This application is built for local governments in the Sindh region of Pakistan. Flood risk adaptation is at the top of the political agenda of the divisional (second level) and district level (third level) government in Sindh. In the devastating floods of 2022, the region was hit hardest in Pakistan, with around 800 casualties, collapsing infrastructure, and 1.78 million hectares of agricultural land destroyed. This application helps secand and third level governments in the Sindh region understand flood risk locally and support adaptation investment decisions in multi-level governance systems.

The end user wants to know:

-   In which areas are floods likely to occur?

-   What is the level of damage on population, buildings, and agriculture in these areas?

![Flooding in Sindh, 2022 (Source: https://news.un.org/en/story/2022/09/1126001)](images/floodsindh.jpg)

https://www.worldbank.org/en/news/feature/2023/06/28/rising-from-the-waters-sindh-navigates-recovery-after-the-2022-floods

### Data

*What data are you using?*

The application use the following data sources:

-   **Flood events**: The [Global Flood Database](https://developers.google.com/earth-engine/datasets/catalog/GLOBAL_FLOOD_DB_MODIS_EVENTS_V1) contains maps 913 flood events between 2000-2018 globally and is based on MODIS imagery.
-   **Population**: High Resolution Population Density Maps from Data for Good. (HRSL)
-   **Land use:** The [Dynamic World Dataset](https://developers.google.com/earth-engine/datasets/catalog/GOOGLE_DYNAMICWORLD_V1) was used. It contains near real time Land Use Land Cover classification based on Sentinel 2 imagery from 2015 to present. Only the classes "bulit up" and "crops" are used for the application.

### Methodology

How are you using this data to address the problem?

### Interface

*How does your application's interface work to address the needs of your end user?*

Local governments in the Sindh region need a simple to use application that allows for rapid identification of flood risk locally with a simple presentation of data without technical jargon. The interface has two layers. On the first (left-hand side), the user can retrieve comparative information about affected area and population as well as number of flood events per district. The user can select a district and retrieve more detailed information about the number of flood events, population affected over time and land use types affected on the right-hand side.

## The Application

::: column-page
<iframe src='https://ee-yankomagn.projects.earthengine.app/view/floods-pakistan' width='100%' height='700px'></iframe>
:::

## How it Works

Use this section to explain how your application works using code blocks and text explanations (no more than 500 words excluding code):

### Three main parts of analaysis
Our project is split into 3 main parts that use different data sources: population, land-use, and vulnerability. The `app.js` file collects the different data layers and parts of analysis into one integrated app, deployed as a live Google Earth Engine Application. Each element is described in detail below:

#### Population Data Analysis
TODO

#### Land Use Analysis
TODO

#### Vulnerability Index
Using the HRSL data and the GFD, 
The vulnerability index is a product of the raw population count and the number of flood occurrences, calculated as below:

``` js
var vulnerabilityIndex = clippedHRSL.multiply(clippedCumulativeFlooded);
```
Given, that population data is at a high resolution (30m), when mapping this layer, we use a smoothing kernel of size 500m kernel, in order to make its visualisation prettier. This is done using the function below:

``` js
var kernel = ee.Kernel.square({
  radius: 500,
  units: 'meters'
});

var interpolate = function(image) {
  var smoothed = image.focal_mean({kernel: kernel, iterations: 1});
  var filled = image.unmask(smoothed);
  return filled;
};

var smoothedVulnerabilityIndex = interpolate(vulnerabilityIndex).updateMask(interpolate(vulnerabilityIndex).gt(0));
```


